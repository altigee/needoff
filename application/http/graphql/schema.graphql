schema {
  query: Query
  mutation: Mutation
}

type Balance {
  id: ID!
  userId: Int!
  balanceType: String!
  amount: Int!
}

type CreateDayOff {
  ok: Boolean
  dayOff: DayOff
}

type CreateWorkspace {
  ok: Boolean
  ws: Workspace
}

scalar DateTime

type DayOff {
  id: ID!
  userId: Int!
  approvedById: Int
  leaveType: LeaveTypes!
  startDate: String!
  endDate: String!
  workspaceId: Int!
  comment: String
  user: Profile
  approvedBy: Profile
  workspace: Workspace
}

enum LeaveTypes {
  SICK_LEAVE
  VACATION_PAID
  VACATION_UNPAID
  WFH
}

type LoginUser {
  ok: Boolean
  accessToken: String
  refreshToken: String
}

type Mutation {
  login(email: String, password: String): LoginUser
  register(email: String, password: String): RegisterUser
  createDayOff(comment: String, endDate: String, startDate: String, type: String, workspaceId: Int): CreateDayOff
  createWorkspace(description: String, members: [String], name: String): CreateWorkspace
}

type Profile {
  userId: ID!
  firstName: String
  lastName: String
  position: String
  phone: String
  email: String!
  user: User
}

type Query {
  userByName(email: String!): User
  myLeaves(workspaceId: Int!): [DayOff]
  myBalance: [Balance]
  balanceByUser(email: String!): [Balance]
  profile: Profile
  myWorkspaces: [Workspace]
  teamCalendar(workspaceId: Int!): [DayOff]
}

type RegisterUser {
  ok: Boolean
  userId: Int
  accessToken: String
  refreshToken: String
}

type User {
  id: ID!
  createdTime: DateTime!
  email: String!
}

type Workspace {
  id: ID!
  name: String!
  description: String
  invitationLinkToken: String
}
